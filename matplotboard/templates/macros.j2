{% macro fig(plot, own_row=True, embed_figure=False) %}

{% if not own_row %}
<div class="col-xs-4 col-md-2" style="padding-left:5px; padding-right:5px">
{% endif %}
  <div class="well center-block figure-container" style="padding:5px;">
    <a title="{{ plot.name }}">
      {% if embed_figure %}
      <img src="data:img/png;base64,{{ plot.data }}" class="thumbnail img-responsive center-block">
      {% else %}
      <img id="{{plot.name}}" src="./figures/{{ plot.name }}.png" class="thumbnail img-responsive center-block">
      {% endif %}
    </a>
    <div class="caption">
      <p class="text-center"> {{ plot.name }} </p>
    </div>
    <div class="caption" hidden style="overflow-x: auto">
      {% if plot.html %}<p class="text-left">{{ plot.html|safe }}</p> {% endif %}
      {% if plot.docs %}<div class="text-left">{{ plot.docs|safe }}</div> {% endif %}
      <hr>
      <p class="text-left"><strong>Plot Arguments</strong></p>
      <table class="table table-hover">
        <tbody>
        {% for key, val in plot.argdict.items() %}
          <tr>
            <td>{{ key }}</td> <td>{{ val }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% if not own_row %}
</div>
{% endif %}
{% endmacro %}
