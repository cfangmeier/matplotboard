{% macro fig(plot, own_row=True, embed_figure=False, hide_info=False) %}
    {% if not own_row %} <div class="col-xs-4 col-md-2" style="padding-left:5px; padding-right:5px"> {% endif %}
<div class="well center-block figure-container" style="padding:5px;">
  <div>
    <a href="#" title="{{ plot.name }}">
      {% if embed_figure %}
      <img src="data:img/png;base64,{{ plot.data }}" class="thumbnail img-responsive center-block">
      {% else %}
      <img src="./figures/{{ plot.name }}.png" class="thumbnail img-responsive center-block">
      {% endif %}
    </a>
  </div>
{% if hide_info %}
  <div class="caption">
    <p class="text-center"> {{ plot.name }} </p>
  </div>
{% else %}
    <div class="caption">
        <p class="text-center"> {{ plot.name }} </p>
        <div class="panel-group" id="accordion{{ r }}{{ c }}">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <button data-toggle="collapse" data-parent="#accordion{{ plot.idx }}" class="btn btn-info btn-block" href="#collapse{{plot.idx}}">
                        Plot Info</button>
                </h4>
            </div>
            <div id="collapse{{plot.idx}}" class="panel-collapse collapse">
                <div class="panel-body">
                    <div class="text-left">{{ plot.docs|safe }}</div>
                    <div class="text-left">{{ plot.ret_html|safe }}</div>
                    <hr>
                    <p class="text-left"><strong>Plot Arguments</strong></p>
                    <table class="table table-hover">
                        <tbody>
                        {% for key, val in plot.argdict.items() %}
                            <tr>
                                <td>{{ key }}</td> <td>{{ val }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endif %}
</div>
{% if not own_row %} </div> {% endif %}
{% endmacro %}
